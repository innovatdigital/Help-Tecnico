<%- include('../../partials/app/head', {title: "Técnicos"}) %>

<body class="bg-gray-100">
  <%- include('../../partials/app/sidebar', {user: user}) %>

  <div class="lg:pl-70">
    <%- include('../../partials/app/nav', {title: "Técnicos"}) %>

    <main class="fade-in">
      <div class="p-8">
        <div class="pt-6 bg-white overflow-hidden border border-coolGray-100 rounded-md shadow-dashboard inter">
          <h2 class="px-6 mb-4 text-lg text-coolGray-900 font-semibold">Técnicos</h2>
          <div class="px-6 overflow-x-auto">
            <table class="w-full">
              <tbody>
                <tr class="whitespace-nowrap h-11 bg-coolGray-50 bg-opacity-80">
                  <th class="px-4 font-semibold text-xs text-coolGray-500 uppercase text-left rounded-l-md">
                    Técnico
                  </th>
                  <th
                    class="whitespace-nowrap px-4 font-semibold text-xs text-coolGray-500 uppercase text-center">
                    Telefone</th>
                  <th
                    class="whitespace-nowrap px-4 font-semibold text-xs text-coolGray-500 uppercase text-center">
                    Email</th>
                  <th
                    class="whitespace-nowrap px-4 font-semibold text-xs text-coolGray-500 uppercase text-center">
                    Cidade</th>
                  <th
                    class="whitespace-nowrap px-4 font-semibold text-xs text-coolGray-500 uppercase text-center">
                    Data de criação</th>
                  <th
                    class="whitespace-nowrap px-4 font-semibold text-xs text-coolGray-500 uppercase text-center rounded-r-md">
                    Ações</th>
                </tr>

                <% technicians.forEach(function(item) { %>
                  <tr class="h-18 border-b border-coolGray-100">
                    <th class="whitespace-nowrap px-4 bg-white text-left">
                      <div class="flex items-center gap-x-4">
                        <% if (item.avatar.length > 0) { %>
                          <img class="h-10 w-10 rounded-full object-cover" src="/img/avatars/<%= item.avatar %>" alt="">
                        <% } else { %>
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8 text-white rounded-full bg-blue-500 p-1.5">
                            <path fill-rule="evenodd" d="M12 6.75a5.25 5.25 0 016.775-5.025.75.75 0 01.313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 011.248.313 5.25 5.25 0 01-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 112.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0112 6.75zM4.117 19.125a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z" clip-rule="evenodd" />
                          </svg>                                                                      
                        <% } %>
                        
                        <span class="text-sm font-medium"><%= item.name %></span>
                      </div>
                    </th>

                    <th class="whitespace-nowrap px-4 bg-white text-sm font-medium text-coolGray-800 text-center">
                      <%= item.phone %></th>
                    
                    <th class="whitespace-nowrap px-4 bg-white text-sm font-medium text-coolGray-800 text-center">
                      <%= item.email %></th>

                    <th class="whitespace-nowrap px-4 bg-white text-sm font-medium text-coolGray-800 text-center">
                      <%= item.city %></th>

                    <th class="whitespace-nowrap px-4 bg-white text-sm font-medium text-coolGray-800 text-center">
                      <%= item.createdAtFormatted %></th>

                    <td class="whitespace-nowrap px-4 bg-white text-sm font-medium text-coolGray-800 text-center">
                      <a href="/admin/view-technician/<%= item._id %>" class="flex items-center justify-center">                                
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-1">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
                        </svg>                                
                        Visualizar
                      </a>
                    </td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </main>
  </div>
</body>
</html>